!async function(){for(;!Spicetify.React||!Spicetify.ReactDOM;)await new Promise(t=>setTimeout(t,10));var e,a,t;e=Spicetify.ContextMenu.Item,a=Spicetify.URI,t=async function(){for(;null==Spicetify||!Spicetify.showNotification;)await new Promise(t=>setTimeout(t,100));const t=new e("Copy Image Link",async([t])=>{var i=a.fromString(t),e=i.id;if(i)switch(i.type){case a.Type.ARTIST:case a.Type.ALBUM:var n=await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/${i.type===a.Type.ALBUM?"albums":"artists"}/`+e);o(n.name,n.images[0].url);break;case a.Type.TRACK:n=await Spicetify.CosmosAsync.get("https://api.spotify.com/v1/tracks/"+e);o(n.album.name,n.album.images[0].url)}},([t])=>{t=a.fromString(t);return"artist"===t.type||"track"===t.type||"album"===t.type},"copy"),i=new e("Copy Banner Link",async([t])=>{t=null==(t=a.fromString(t))?void 0:t.id;if(t){t=await Spicetify.CosmosAsync.get("https://api.spotify.com/v1/artists/"+t);const i=document.querySelector(".before-scroll-node>div>div:first-child");null!==i?o(t.name,i.style.backgroundImage.substring('url("'.length,i.style.backgroundImage.length-2)):Spicetify.showNotification("「"+t.name+"」 banner not found!")}},([t])=>{t=a.fromString(t);if("artist"!==t.type)return!1;const i=document.querySelector(".main-view-container__scroll-node-child section");if(null===i)return!1;{const e=i.getAttribute("data-test-uri");t=t.id;return null!==e&&t===e.substring("spotify:artist:".length)}},"instagram");t.register(),i.register()},(async()=>{await t()})();function o(t,i){i&&(Spicetify.showNotification("Copied: 「"+t+"」 image!"),Spicetify.Platform.ClipboardAPI.copy(i))}}();